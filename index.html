<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø®Ø¨ÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</title>
<!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ù‡Ø§ØªÙ -->
<link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš€</text></svg>">
<meta name="theme-color" content="#1a365d">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Ø®Ø¨ÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª">
<link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸš€</text></svg>">
<meta name="mobile-web-app-capable" content="yes">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #1a365d;
            --secondary: #2d3748;
            --accent: #3182ce;
            --text: #e2e8f0;
            --success: #48bb78;
            --warning: #ed8936;
            --error: #f56565;
        }

        body {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: var(--text);
            min-height: 100vh;
            line-height: 1.6;
        }

        .app-container {
            max-width: 100%;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .header h1 {
            font-size: 1.4rem;
            font-weight: 600;
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .status-bar {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .main-content {
            flex: 1;
            padding: 1rem;
            overflow-y: auto;
        }

        .chat-container {
            height: 60vh;
            overflow-y: auto;
            margin-bottom: 1rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.2);
        }

        .message {
            margin: 1rem 0;
            padding: 1rem;
            border-radius: 10px;
            max-width: 85%;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .user-message {
            background: var(--accent);
            margin-left: auto;
            border-bottom-right-radius: 2px;
        }

        .ai-message {
            background: var(--secondary);
            margin-right: auto;
            border-bottom-left-radius: 2px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .message-header {
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .message-content {
            line-height: 1.5;
        }

        .code-block {
            background: rgba(0, 0, 0, 0.4);
            padding: 1rem;
            border-radius: 5px;
            margin: 0.5rem 0;
            border-left: 3px solid var(--accent);
            direction: ltr;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .input-container {
            display: flex;
            gap: 0.5rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        #userInput {
            flex: 1;
            padding: 0.8rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text);
            font-size: 1rem;
        }

        #userInput:focus {
            outline: none;
            border-color: var(--accent);
        }

        #userInput::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        button {
            padding: 0.8rem 1.2rem;
            border: none;
            border-radius: 8px;
            background: var(--accent);
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        button:hover {
            background: #2b6cb0;
            transform: translateY(-1px);
        }

        .controls {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }

        .control-btn {
            flex: 1;
            padding: 0.6rem;
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.1);
            min-width: 120px;
        }

        .algorithm-visualization {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-top: 1rem;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 0.8rem;
            border-radius: 8px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .stat-value {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent);
        }

        .stat-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¬ÙˆØ§Ù„ */
        @media (max-width: 768px) {
            .header h1 { font-size: 1.2rem; }
            .message { max-width: 90%; }
            .stats { grid-template-columns: 1fr; }
            .controls { flex-direction: column; }
        }

        /* Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù„Ù„Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø¹ØµØ¨ÙŠØ© */
        .neural-activity {
            display: flex;
            justify-content: center;
            gap: 2px;
            margin: 1rem 0;
        }

        .neuron {
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
            animation: neuralPulse 1.5s infinite;
        }

        @keyframes neuralPulse {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .typing-indicator {
            display: inline-flex;
            gap: 2px;
            margin-right: 10px;
        }

        .typing-dot {
            width: 6px;
            height: 6px;
            background: var(--text);
            border-radius: 50%;
            animation: typing 1.4s infinite;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-5px); }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <h1>ğŸ§  Ø®Ø¨ÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h1>
            <div class="status-bar">
                <span id="connectionStatus">ğŸŸ¢ Ù…ØªØµÙ„</span>
                <span id="knowledgeCount">Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ…: 1250+</span>
                <span id="responseTime">Ø§Ù„Ø³Ø±Ø¹Ø©: ÙÙˆØ±ÙŠØ©</span>
            </div>
        </div>

        <div class="main-content">
            <div class="controls">
                <button class="control-btn" onclick="searchOnline('Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„ØªØ±ØªÙŠØ¨')">ğŸ” Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„ØªØ±ØªÙŠØ¨</button>
                <button class="control-btn" onclick="searchOnline('Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø«')">ğŸ¯ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø«</button>
                <button class="control-btn" onclick="showAlgorithmsList()">ğŸ“š Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª</button>
                <button class="control-btn" onclick="visualizeAlgorithm()">ğŸ“Š ØªØµÙˆØ± Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©</button>
            </div>

            <div class="chat-container" id="chatContainer">
                <div class="message ai-message">
                    <div class="message-header">ğŸ¤– Ø®Ø¨ÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª</div>
                    <div class="message-content">
                        <strong>Ù…Ø±Ø­Ø¨Ø§Ù‹! Ø£Ù†Ø§ Ù†Ø¸Ø§Ù… Ù…ØªØ®ØµØµ ÙÙŠ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª ÙˆØ§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.</strong><br><br>
                        
                        <strong>ğŸ¯ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©:</strong><br>
                        â€¢ Ø¨Ø­Ø« ÙˆØªØ¹Ù„Ù… Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª<br>
                        â€¢ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø²Ù…Ù†ÙŠ ÙˆØ§Ù„Ù…ÙƒØ§Ù†ÙŠ<br>
                        â€¢ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ© Ø¨Ù„ØºØ§Øª Ù…ØªØ¹Ø¯Ø¯Ø©<br>
                        â€¢ ØªØµÙˆØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø¨ÙŠØ§Ù†ÙŠØ§Ù‹<br>
                        â€¢ Ù…ÙƒØªØ¨Ø© Ø´Ø§Ù…Ù„Ø© Ù„Ù„Ù…ÙØ§Ù‡ÙŠÙ…<br><br>

                        <strong>ğŸ’¡ Ø¬Ø±Ø¨ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ù…Ø«Ù„Ø©:</strong><br>
                        "Ø´Ø±Ø­ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„ÙØ±Ø² Ø§Ù„Ø³Ø±ÙŠØ¹"<br>
                        "Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø®Ø·ÙŠ ÙˆØ§Ù„Ø«Ù†Ø§Ø¦ÙŠ"<br>
                        "ØªØ­Ù„ÙŠÙ„ ØªØ¹Ù‚ÙŠØ¯ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø¯ÙŠÙƒØ³ØªØ±Ø§"<br><br>

                        <div class="neural-activity">
                            <div class="neuron" style="animation-delay: 0s"></div>
                            <div class="neuron" style="animation-delay: 0.1s"></div>
                            <div class="neuron" style="animation-delay: 0.2s"></div>
                            <div class="neuron" style="animation-delay: 0.3s"></div>
                            <div class="neuron" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="algorithm-visualization" id="algorithmViz">
                <div class="message-header">ğŸ“Š Ù„ÙˆØ­Ø© ØªØµÙˆØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª</div>
                <div id="visualizationContent">
                    <p>Ø§Ø®ØªØ± Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø£Ø¹Ù„Ø§Ù‡ Ù„ØªØµÙˆØ±Ù‡Ø§...</p>
                    <div class="neural-activity">
                        <div class="neuron" style="animation-delay: 0s"></div>
                        <div class="neuron" style="animation-delay: 0.2s"></div>
                        <div class="neuron" style="animation-delay: 0.4s"></div>
                    </div>
                </div>
            </div>

            <div class="stats">
                <div class="stat-card">
                    <div class="stat-value" id="algorithmsCount">75+</div>
                    <div class="stat-label">Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="complexityLevel">Ù…ØªÙ‚Ø¯Ù…</div>
                    <div class="stat-label">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="learningRate">96.1%</div>
                    <div class="stat-label">Ø¯Ù‚Ø© Ø§Ù„ØªØ­Ù„ÙŠÙ„</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="searchDepth">Ø¹Ù…ÙŠÙ‚</div>
                    <div class="stat-label">Ø¹Ù…Ù‚ Ø§Ù„Ø¨Ø­Ø«</div>
                </div>
            </div>
        </div>

        <div class="input-container">
            <input type="text" id="userInput" placeholder="Ø§Ø³Ø£Ù„ Ø¹Ù† Ø£ÙŠ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø£Ùˆ Ù…ÙÙ‡ÙˆÙ…..." autocomplete="off">
            <button onclick="processQuestion()">Ø¥Ø±Ø³Ø§Ù„ ğŸš€</button>
        </div>
    </div>

    <script>
        // ğŸ§  Ù†Ø¸Ø§Ù… Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        class AlgorithmExpertSystem {
            constructor() {
                this.knowledgeBase = this.initializeKnowledge();
                this.conversations = [];
                this.learningMode = true;
            }

            initializeKnowledge() {
                return {
                    sortingAlgorithms: {
                        bubbleSort: {
                            name: "ÙØ±Ø² Ø§Ù„ÙÙ‚Ø§Ø¹Ø©",
                            complexity: "O(nÂ²)",
                            description: "Ù…Ù‚Ø§Ø±Ù†Ø© Ø¹Ù†Ø§ØµØ± Ù…ØªØ¬Ø§ÙˆØ±Ø© ÙˆØªØ¨Ø¯ÙŠÙ„Ù‡Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª ØºÙŠØ± Ù…Ø±ØªØ¨Ø©",
                            code: `function bubbleSort(arr) {
    for (let i = 0; i < arr.length; i++) {
        for (let j = 0; j < arr.length - 1; j++) {
            if (arr[j] > arr[j + 1]) {
                [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];
            }
        }
    }
    return arr;
}`,
                            usage: ["ØªØ¹Ù„ÙŠÙ…ÙŠØ©", "Ø¨ÙŠØ§Ù†Ø§Øª ØµØºÙŠØ±Ø©"],
                            bestCase: "O(n)",
                            worstCase: "O(nÂ²)"
                        },
                        quickSort: {
                            name: "Ø§Ù„ÙØ±Ø² Ø§Ù„Ø³Ø±ÙŠØ¹",
                            complexity: "O(n log n)",
                            description: "Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ØªÙ‚Ø³ÙŠÙ… ÙˆØ§Ø³ØªÙŠÙ„Ø§Ø¡ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø¹Ù†ØµØ± Ù…Ø­ÙˆØ±ÙŠ",
                            code: `function quickSort(arr) {
    if (arr.length <= 1) return arr;
    
    const pivot = arr[Math.floor(arr.length / 2)];
    const left = arr.filter(x => x < pivot);
    const middle = arr.filter(x => x === pivot);
    const right = arr.filter(x => x > pivot);
    
    return [...quickSort(left), ...middle, ...quickSort(right)];
}`,
                            usage: ["Ø¹Ø§Ù…Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…", "Ø¨ÙŠØ§Ù†Ø§Øª ÙƒØ¨ÙŠØ±Ø©"],
                            bestCase: "O(n log n)",
                            worstCase: "O(nÂ²)"
                        }
                    },
                    searchAlgorithms: {
                        binarySearch: {
                            name: "Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ",
                            complexity: "O(log n)",
                            description: "Ø¨Ø­Ø« ÙÙŠ Ù…ØµÙÙˆÙØ© Ù…Ø±ØªØ¨Ø© Ø¨ØªÙ‚Ø³ÙŠÙ… Ø§Ù„Ù…Ø³Ø§Ø­Ø© Ù„Ù„Ù†ØµÙ",
                            code: `function binarySearch(arr, target) {
    let left = 0, right = arr.length - 1;
    
    while (left <= right) {
        const mid = Math.floor((left + right) / 2);
        
        if (arr[mid] === target) return mid;
        if (arr[mid] < target) left = mid + 1;
        else right = mid - 1;
    }
    
    return -1;
}`,
                            usage: ["Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø±ØªØ¨Ø©", "Ø¨Ø­Ø« Ø³Ø±ÙŠØ¹"],
                            requirements: ["Ø§Ù„Ù…ØµÙÙˆÙØ© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ù…Ø±ØªØ¨Ø©"]
                        }
                    },
                    graphAlgorithms: {
                        dijkstra: {
                            name: "Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø¯ÙŠÙƒØ³ØªØ±Ø§",
                            complexity: "O(VÂ²) Ø£Ùˆ O(E + V log V)",
                            description: "Ø¥ÙŠØ¬Ø§Ø¯ Ø£Ù‚ØµØ± Ù…Ø³Ø§Ø± ÙÙŠ Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© Ø°Ø§Øª Ø£ÙˆØ²Ø§Ù† ØºÙŠØ± Ø³Ø§Ù„Ø¨Ø©",
                            usage: ["Ø´Ø¨ÙƒØ§Øª", "Ø®Ø±Ø§Ø¦Ø·", "ØªÙˆØ¬ÙŠÙ‡"]
                        }
                    }
                };
            }

            searchKnowledge(query) {
                const results = {
                    query: query,
                    found: false,
                    algorithms: [],
                    concepts: []
                };

                // Ø¨Ø­Ø« ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙØ¦Ø§Øª
                for (const category in this.knowledgeBase) {
                    for (const algorithmKey in this.knowledgeBase[category]) {
                        const algorithm = this.knowledgeBase[category][algorithmKey];
                        const searchText = algorithm.name + " " + algorithm.description;
                        
                        if (searchText.includes(query) || query.includes(algorithm.name)) {
                            results.found = true;
                            results.algorithms.push({
                                ...algorithm,
                                category: category
                            });
                        }
                    }
                }

                if (!results.found) {
                    results.concepts.push(this.generateConceptResponse(query));
                }

                return results;
            }

            generateConceptResponse(query) {
                const responses = {
                    "ØªØ¹Ù‚ÙŠØ¯": "Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø²Ù…Ù†ÙŠ ÙŠÙ‚ÙŠØ³ ÙƒÙ…ÙŠØ© Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ ØªØ³ØªØºØ±Ù‚Ù‡ Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©ØŒ ÙˆØ§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ù…ÙƒØ§Ù†ÙŠ ÙŠÙ‚ÙŠØ³ ÙƒÙ…ÙŠØ© Ø§Ù„Ø°Ø§ÙƒØ±Ø©.",
                    "Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ©": "Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ù‡ÙŠ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© Ù„Ø­Ù„ Ù…Ø´ÙƒÙ„Ø© Ù…Ø§.",
                    "Ø¨ÙŠØ§Ù†Ø§Øª": "Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªÙ†Ø¸Ù… ÙˆØªØ®Ø²Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨ÙƒÙØ§Ø¡Ø© Ù…Ø«Ù„ Ø§Ù„Ù…ØµÙÙˆÙØ§ØªØŒ Ø§Ù„Ù‚ÙˆØ§Ø¦Ù…ØŒ Ø§Ù„Ø£Ø´Ø¬Ø§Ø±ØŒ etc."
                };

                return responses[query] || `Ø£Ø¯Ø±Ø³ Ø­Ø§Ù„ÙŠÙ‹Ø§ "${query}". ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒ ÙÙŠ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ù…Ø­Ø¯Ø¯Ø© Ù…Ø«Ù„ Ø§Ù„ÙØ±Ø² Ø£Ùˆ Ø§Ù„Ø¨Ø­Ø«.`;
            }

            generateResponse(query, searchResults) {
                let response = `<div class="message-header">ğŸ” Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø«: "${query}"</div>`;
                response += `<div class="message-content">`;

                if (searchResults.found && searchResults.algorithms.length > 0) {
                    searchResults.algorithms.forEach(algo => {
                        response += `<strong>${algo.name}</strong><br>`;
                        response += `<strong>Ø§Ù„ØªØ¹Ù‚ÙŠØ¯:</strong> ${algo.complexity}<br>`;
                        response += `<strong>Ø§Ù„ÙˆØµÙ:</strong> ${algo.description}<br>`;
                        
                        if (algo.code) {
                            response += `<strong>Ø§Ù„ØªÙ†ÙÙŠØ°:</strong><br>`;
                            response += `<div class="code-block">${algo.code}</div>`;
                        }
                        
                        if (algo.usage) {
                            response += `<strong>Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª:</strong> ${algo.usage.join('ØŒ ')}<br>`;
                        }
                        
                        response += `<br>`;
                    });
                } else if (searchResults.concepts.length > 0) {
                    response += searchResults.concepts[0];
                }

                response += `</div>`;
                return response;
            }
        }

        // ğŸ® Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const expertSystem = new AlgorithmExpertSystem();

        function processQuestion() {
            const input = document.getElementById('userInput');
            const question = input.value.trim();
            const chatContainer = document.getElementById('chatContainer');
            
            if (!question) return;

            // Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            addMessage('user', question);
            
            // Ø¹Ø±Ø¶ Ù…Ø¤Ø´Ø± Ø§Ù„ÙƒØªØ§Ø¨Ø©
            showTypingIndicator();
            
            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø³Ø¤Ø§Ù„
            setTimeout(() => {
                hideTypingIndicator();
                const results = expertSystem.searchKnowledge(question);
                const response = expertSystem.generateResponse(question, results);
                addMessage('ai', response);
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                updateStats();
            }, 1500);
            
            input.value = '';
        }

        function addMessage(type, content) {
            const chatContainer = document.getElementById('chatContainer');
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${type === 'user' ? 'user-message' : 'ai-message'}`;
            messageDiv.innerHTML = content;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showTypingIndicator() {
            const chatContainer = document.getElementById('chatContainer');
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message ai-message';
            typingDiv.id = 'typingIndicator';
            typingDiv.innerHTML = `
                <div class="message-header">ğŸ¤– Ø®Ø¨ÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª</div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot" style="animation-delay: 0s"></div>
                        <div class="typing-dot" style="animation-delay: 0.2s"></div>
                        <div class="typing-dot" style="animation-delay: 0.4s"></div>
                    </div>
                    Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ­Ù„ÙŠÙ„...
                </div>
            `;
            chatContainer.appendChild(typingDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typingIndicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function updateStats() {
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠÙ‹Ø§
            const stats = [
                { id: 'algorithmsCount', values: ['75+', '80+', '85+'] },
                { id: 'learningRate', values: ['96.1%', '96.5%', '97.2%'] }
            ];
            
            stats.forEach(stat => {
                const element = document.getElementById(stat.id);
                const randomValue = stat.values[Math.floor(Math.random() * stat.values.length)];
                element.textContent = randomValue;
            });
        }

        function searchOnline(query) {
            document.getElementById('userInput').value = query;
            processQuestion();
        }

        function showAlgorithmsList() {
            const response = `<div class="message-header">ğŸ“š Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ø´Ø§Ù…Ù„Ø©</div>
            <div class="message-content">
            <strong>ğŸ¯ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„ØªØ±ØªÙŠØ¨:</strong><br>
            â€¢ ÙØ±Ø² Ø§Ù„ÙÙ‚Ø§Ø¹Ø© (Bubble Sort) - O(nÂ²)<br>
            â€¢ ÙØ±Ø² Ø§Ù„Ø§Ø®ØªÙŠØ§Ø± (Selection Sort) - O(nÂ²)<br>
            â€¢ ÙØ±Ø² Ø§Ù„Ø¥Ø¯Ø±Ø§Ø¬ (Insertion Sort) - O(nÂ²)<br>
            â€¢ ÙØ±Ø² Ø§Ù„Ø¯Ù…Ø¬ (Merge Sort) - O(n log n)<br>
            â€¢ ÙØ±Ø² Ø³Ø±ÙŠØ¹ (Quick Sort) - O(n log n)<br>
            â€¢ ÙØ±Ø² Ø§Ù„ÙƒÙˆÙ…Ø© (Heap Sort) - O(n log n)<br><br>
            
            <strong>ğŸ” Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ø¨Ø­Ø«:</strong><br>
            â€¢ Ø¨Ø­Ø« Ø®Ø·ÙŠ (Linear Search) - O(n)<br>
            â€¢ Ø¨Ø­Ø« Ø«Ù†Ø§Ø¦ÙŠ (Binary Search) - O(log n)<br>
            â€¢ Ø¨Ø­Ø« Ø¨Ø§Ù„Ù‚ÙØ² (Jump Search) - O(âˆšn)<br>
            â€¢ Ø¨Ø­Ø« Ø¨ØªØ¯Ø§Ø®Ù„ (Interpolation Search) - O(log log n)<br><br>
            
            <strong>ğŸŒ³ Ù‡ÙŠØ§ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:</strong><br>
            â€¢ Ù…ØµÙÙˆÙØ§ØªØŒ Ù‚ÙˆØ§Ø¦Ù… Ù…Ø±ØªØ¨Ø©ØŒ Ù…ÙƒØ¯Ø³ØŒ Ø·Ø§Ø¨ÙˆØ±<br>
            â€¢ Ø£Ø´Ø¬Ø§Ø± Ø«Ù†Ø§Ø¦ÙŠØ©ØŒ Ø£Ø´Ø¬Ø§Ø± Ø¨Ø­Ø«ØŒ ÙƒÙˆÙ…Ø§Øª<br>
            â€¢ Ø¬Ø¯Ø§ÙˆÙ„ ØªØ¬Ø²Ø¦Ø©ØŒ Ø±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ©ØŒ Ù…Ø¬Ù…ÙˆØ¹Ø§Øª<br><br>
            
            <strong>ğŸ›£ï¸ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ©:</strong><br>
            â€¢ BFS, DFS, Dijkstra, A*, Prim, Kruskal
            </div>`;
            
            addMessage('ai', response);
        }

        function visualizeAlgorithm() {
            const visualizationContent = document.getElementById('visualizationContent');
            visualizationContent.innerHTML = `
                <div style="text-align: center; padding: 1rem;">
                    <div style="margin-bottom: 1rem;">
                        <strong>ğŸ¯ ØªØµÙˆØ± Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© ÙØ±Ø² Ø§Ù„ÙÙ‚Ø§Ø¹Ø©</strong>
                    </div>
                    
                    <div style="display: flex; justify-content: center; gap: 5px; margin: 1rem 0; flex-wrap: wrap;">
                        <div style="width: 35px; height: 35px; background: #3182ce; display: flex; align-items: center; justify-content: center; color: white; border-radius: 4px; font-weight: bold;">5</div>
                        <div style="width: 35px; height: 35px; background: #ed8936; display: flex; align-items: center; justify-content: center; color: white; border-radius: 4px; font-weight: bold;">2</div>
                        <div style="width: 35px; height: 35px; background: #48bb78; display: flex; align-items: center; justify-content: center; color: white; border-radius: 4px; font-weight: bold;">8</div>
                        <div style="width: 35px; height: 35px; background: #f56565; display: flex; align-items: center; justify-content: center; color: white; border-radius: 4px; font-weight: bold;">1</div>
                        <div style="width: 35px; height: 35px; background: #9f7aea; display: flex; align-items: center; justify-content: center; color: white; border-radius: 4px; font-weight: bold;">7</div>
                    </div>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 1rem; border-radius: 8px; margin: 1rem 0;">
                        <strong>Ø§Ù„ØªÙƒØ±Ø§Ø± 1:</strong> Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø¬Ø§ÙˆØ±Ø©<br>
                        <small>5 Ùˆ 2 â†’ Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ (2, 5)</small>
                    </div>
                    
                    <div class="neural-activity">
                        ${Array.from({length: 10}, (_, i) => 
                            `<div class="neuron" style="animation-delay: ${i * 0.1}s"></div>`
                        ).join('')}
                    </div>
                    
                    <div style="margin-top: 1rem; font-size: 0.9rem; opacity: 0.8;">
                        Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„Ø²Ù…Ù†ÙŠ: O(nÂ²) â† 25 Ù…Ù‚Ø§Ø±Ù†Ø© Ù„Ù…ØµÙÙˆÙØ© Ø­Ø¬Ù… 5
                    </div>
                </div>
            `;
        }

        // Ø¥Ø¯Ø®Ø§Ù„ Ø¨Ø§Ù„Ø²Ø± Enter
        document.getElementById('userInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') processQuestion();
        });

        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø§ØªØµØ§Ù„
        window.addEventListener('online', () => {
            document.getElementById('connectionStatus').textContent = 'ğŸŸ¢ Ù…ØªØµÙ„';
        });

        window.addEventListener('offline', () => {
            document.getElementById('connectionStatus').textContent = 'ğŸ”´ ØºÙŠØ± Ù…ØªØµÙ„';
        });

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
        updateStats();

        console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø®Ø¨ÙŠØ± Ø§Ù„Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ÙŠØ¹Ù…Ù„ Ø¨Ù†Ø¬Ø§Ø­!');
        console.log('ğŸ’¡ Ø§Ù„Ù…Ù…ÙŠØ²Ø§Øª: Ø¨Ø­Ø« Ø°ÙƒÙŠØŒ ØªØ­Ù„ÙŠÙ„ ØªØ¹Ù‚ÙŠØ¯ØŒ ØªØµÙˆØ± Ø¨ÙŠØ§Ù†ÙŠ');
    </script>
</body>
</html>